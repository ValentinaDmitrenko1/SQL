----1---
УДАЛИТЬ  ТАБЛИЦУ, ЕСЛИ СУЩЕСТВУЮТ журналы;
СОЗДАТЬ  ТАБЛИЧНЫЕ  журналы (
	created_at DATETIME NOT NULL ,
	имя_таблицы VARCHAR ( 45 ) NOT NULL ,
	str_id BIGINT ( 20 ) НЕ NULL ,
	name_value VARCHAR ( 45 ) NOT NULL
) ДВИГАТЕЛЬ = АРХИВ;



DROP  TRIGGER IF EXISTS watchlog_users;
разделитель //
CREATE  TRIGGER  watchlog_users ПОСЛЕ ВСТАВКИ НА пользователей
ДЛЯ КАЖДОЙ РЯДА
НАЧИНАТЬ
	INSERT INTO журналы (created_at, table_name, str_id, name_value)
	ЗНАЧЕНИЯ (СЕЙЧАС (), « пользователи » , НОВ . Идентификатор , НОВ . Имя );
КОНЕЦ //
разделитель;


DROP  TRIGGER IF EXISTS watchlog_catalogs;
разделитель //
CREATE  TRIGGER  watchlog_catalogs ПОСЛЕ ВСТАВКИ НА каталогами
ДЛЯ КАЖДОЙ РЯДА
НАЧИНАТЬ
	INSERT INTO журналы (created_at, table_name, str_id, name_value)
	ЗНАЧЕНИЯ (СЕЙЧАС (), « каталоги » , НОВ . Идентификатор , НОВ . Имя );
КОНЕЦ //
разделитель;



разделитель //
СОЗДАТЬ  TRIGGER  watchlog_products ПОСЛЕ ВСТАВКИ НА продукты
ДЛЯ КАЖДОЙ РЯДА
НАЧИНАТЬ
	INSERT INTO журналы (created_at, table_name, str_id, name_value)
	ЗНАЧЕНИЯ (СЕЙЧАС (), ' продукты ' , НОВЫЙ . Идентификатор , НОВЫЙ . Имя );
КОНЕЦ //
разделитель;



ВЫБРАТЬ  *  ИЗ пользователей;
ВЫБРАТЬ  *  ИЗ журналов;

ВСТАВИТЬ пользователей (имя, день рождения_в)
ЦЕННОСТИ ( ' Кнехт ' , ' 1900-01-01 ' );

ВЫБРАТЬ  *  ИЗ пользователей;
ВЫБРАТЬ  *  ИЗ журналов;

ВСТАВИТЬ пользователей (имя, день рождения_в)
ЦЕННОСТИ ( ' Liu Kangh ' , ' 1900-01-01 ' ),
		( ' Sub-Zero ' , ' 1103-01-01 ' ),
		( ' Скорпион ' , ' 1103-01-01 ' ),
		( « Райден » , « 0000-00-01 » );

ВЫБРАТЬ  *  ИЗ пользователей;
ВЫБРАТЬ  *  ИЗ журналов;


ВЫБРАТЬ  *  ИЗ каталогов;
ВЫБРАТЬ  *  ИЗ журналов;

ВСТАВИТЬ каталоги (название)
ЦЕННОСТИ ( ' Оперативная память ' ),
		( ' Куллера ' ),
		( ' Аксессуары ' );

ВЫБРАТЬ  *  ИЗ каталогов;
ВЫБРАТЬ  *  ИЗ журналов;



ВЫБРАТЬ  *  ИЗ продуктов;
ВЫБРАТЬ  *  ИЗ журналов;

ВСТАВИТЬ товары (название, описание, цена, catalog_id)
ЦЕННОСТИ ( ' PATRIOT PSD34G13332 ' , ' Оперативная память ' , 3000 . 00 , 13 ),
		( ' DARK ROCK PRO 4 (BK022) ' , ' Куллера ' , 500 . 00 , 14 ),
		( ' Коврик ' , ' Коврик для мыши ' , 150 . 00 , 15 );

ВЫБРАТЬ  *  ИЗ продуктов;
ВЫБРАТЬ  *  ИЗ журналов;



---1---

SADD  ip  '127.0.0.1  ' 127.0.0.2  '127.0.0.3'
